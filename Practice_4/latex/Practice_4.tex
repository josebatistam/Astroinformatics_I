\documentclass[a4paper,12pt]{article}

\usepackage{geometry}
\usepackage{fontspec}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{fancyhdr}
\usepackage{calc}

\geometry{margin=25mm}
\pagestyle{fancy}
\hbadness=10000
\fancyhf{}
\fancyfoot[R]{\small\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\captionsetup{font=small, labelfont=bf, textfont=it}

\setmainfont{InterDisplay}[
  UprightFont=*-Regular,
  ItalicFont=*-Italic,
  BoldFont=*-Bold,
  BoldItalicFont=*-BoldItalic,
  FontFace={ul}{n}{Font={*-Thin}},
  FontFace={ul}{it}{Font={*-ThinItalic}},
  FontFace={el}{n}{Font={*-ExtraLight}},
  FontFace={el}{it}{Font={*-ExtraLightItalic}},
  FontFace={l}{n}{Font={*-Light}},
  FontFace={l}{it}{Font={*-LightItalic}},
  FontFace={mb}{n}{Font={*-Medium}},
  FontFace={mb}{it}{Font={*-MediumItalic}},
  FontFace={sb}{n}{Font={*-SemiBold}},
  FontFace={sb}{it}{Font={*-SemiBoldItalic}},
  FontFace={eb}{n}{Font={*-ExtraBold}},
  FontFace={eb}{it}{Font={*-ExtraBoldItalic}},
  FontFace={ub}{n}{Font={*-Black}},
  FontFace={ub}{it}{Font={*-BlackItalic}},
  RawFeature={+cv05}
]
\setmonofont{Adwaita Mono}
\DeclareRobustCommand{\regular}{\fontseries{m}\selectfont}
\DeclareRobustCommand{\medium}{\fontseries{mb}\selectfont}
\DeclareRobustCommand{\sbold}{\fontseries{sb}\selectfont}
\DeclareRobustCommand{\bold}{\fontseries{b}\selectfont}
\renewcommand{\small}{\fontsize{10}{12}\selectfont}
\newcommand{\rcode}[1]{\texttt{\fontsize{11}{13}\selectfont#1}}
\newcommand{\bcode}[1]{\texttt{\fontsize{11}{13}\selectfont\bold#1}}

\lstset{
    basicstyle = {\small\ttfamily},
    breaklines = true,
    columns = fullflexible,
    keepspaces = true,
    aboveskip = 0mm,
    belowskip = 0mm,
    showstringspaces = false,
    numbers = left,
    numberstyle = \small\ttfamily,
    numbersep = 2.5mm,
    xleftmargin = 6.5mm
}

% Title
\title{\vspace{-25mm}{\normalsize\addfontfeatures{
  RawFeature={+cv08}}Semester I 2025}\\{
  \large\addfontfeatures{RawFeature={+cv08}}\medium{
  Astroinformatics I}}\\\LARGE\sbold{Graded Practice 4}}
\author{}
\date{\vspace{-22.5mm}}

% Set indent to 5mm
\setlist[enumerate,1]{left=0mm, labelsep=2.5mm, itemsep = \baselineskip,
topsep = \baselineskip}
\setlist[enumerate,2]{left=-1mm, labelsep=2.5mm}
\newenvironment{solution}{}{}

\begin{document}
    \maketitle
    \thispagestyle{fancy}
    \sbold{\hspace{-6mm}Jos√© B. Batista M.\\}
    \begin{enumerate}
        \item Create a GitHub repository where you will at the end submit your
        graded practices so far, as well as today's graded practice.
        \begin{solution}
            \\\\\regular The GitHub repository for all graded practices, including
            this one, is available at \url{https://github.com/josebatistam/Astroinformatics\_I}.
            This repository is structured to organize all assignments submitted
            for the Astroinformatics I course. It serves as a central hub for the
            course work, ensuring easy access for review. The repository's layout
            is designed for clarity and maintainability:
            \begin{itemize}
                \item The root directory contains the main \bcode{README.md} and serves
                as the entry point for the entire collection of practices.
                \item Individual graded practices are organized within their own
                dedicated subdirectories, named \bcode{/Practice\_1/},
                \bcode{/Practice\_2/}, \bcode{/Practice\_3/}, and \bcode{/Practice\_4/}.
                \item Each practice subdirectory typically follows a consistent
                internal structure, containing:
                \begin{itemize}
                    \item \bcode{/codes}: Houses shell scripts (\bcode{.sh}) and
                    Python scripts (\bcode{.py}) relevant to the practice's tasks.
                    \item \bcode{/latex}: Contains the main \LaTeX{} file for the
                    practice (e.g., \bcode{Practice\_X.tex}), along with auxiliary
                    files generated during compilation (\bcode{.aux}, \bcode{.log},
                    \bcode{.out}, etc.).
                    \item \bcode{/csv}, \bcode{/fits}, \bcode{/lc}, \bcode{/lightcurves},
                    \bcode{/lists}, \bcode{/plots}: Specific directories for input
                    data (like \bcode{.csv} or \bcode{.fits} files), processed
                    light curve files (\bcode{.lc}), generated plots (\bcode{.pdf}),
                    or intermediate lists, depending on the requirements of each
                    practice.
                    \item \bcode{Practice\_X\_Instructions.pdf}: The problem
                    statement or instructions for the specific practice.
                    \item \bcode{Practice\_X.pdf}: The compiled PDF solution for
                    the practice.
                \end{itemize}
                \item A \bcode{/Project/} directory is dedicated to the final
                project presentation, which synthesizes the work from the four
                graded practices.
            \end{itemize}
            The \bcode{README.md} file at the root of the repository serves as the
            primary entry point for anyone visiting the project page on GitHub.
            It provides a concise overview of the repository's purpose, its
            structure, and relevant information for users and maintainers. Key
            sections within this \bcode{README.md} include:
            \begin{itemize}
                \item \sbold{Project Purpose:}\regular\ A clear statement on what
                the repository contains (graded practices for Astroinformatics I).
                \item \sbold{Repository Structure:}\regular\ A brief explanation
                of the directory layout, detailing the organization of individual
                practices as outlined above.
                \item \sbold{Practices:}\regular\ A listing of all submitted
                practices, with direct links to their respective files or folders
                within the repository for easy navigation.
                \item \sbold{Project Presentation:}\regular\ Details about the final
                project presentation.
                \item \sbold{Course Information:}\regular\ Details about the course,
                institution, and semester.
                \item \sbold{Author:}\regular\ My name, as the creator and
                maintainer of this repository.
            \end{itemize}
            As an important note regarding the repository's contents, the local
            course directory was restructured for easier navigation and file access
            during my work. As a consequence, all the scripts (\bcode{.sh} and \bcode{.py})
            and \LaTeX{} files in the \bcode{/Practices/} subdirectory had to be updated
            to reflect these changes in order to prevent compiling errors. However,
            for transparency purposes, any code presented directly within the \LaTeX{}
            files in the submitted solutions has not been updated to reflect these
            modified scripts, preserving the original practice solutions as initially
            developed.
        \end{solution}\vspace{-0.5em}
        \item Write some basic documentation for how you processed the TESS light
        curves.
        \begin{solution}
            \\\\\regular The documentation is available as a \bcode{README.md}
            file located in the \bcode{/Practice\_3/} directory of the GitHub
            repository. This \bcode{README.md} provides a comprehensive overview
            of the \bcode{practice\_3.py} script's functionality. It details the
            step-by-step methodology, including:
            \begin{itemize}
                \item The process of loading and preprocessing TESS light curve
                data.
                \item Methods for identifying and handling outliers.
                \item How raw light curves are plotted and visualized.
                \item The implementation of phase-folding and Lomb-Scargle
                periodogram analysis for periodicity detection.
            \end{itemize}
            It also highlights that the Python script itself is well-documented
            internally through the use of docstrings for its functions, providing
            clear explanations of their purpose, arguments, and return values
            directly within the code.

            The documentation also lists the necessary Python dependencies
            (which are given in the file \bcode{requirements.txt}) and highlights
            important considerations regarding periodogram interpretation, as
            discussed in the original practice solution. For detailed explanations,
            code usage, and dependency information, please refer directly to the
            \bcode{README.md} file in the specified repository path.
        \end{solution}\vspace{-0.5em}
        \item Identify some test cases for the processing of the TESS light curves
        and write them down (no implementation needed).
        \begin{solution}
            \\\\\regular Given below are some test cases for the
            \bcode{practice\_3.py} script, for each function. \\\\
            \textbf{Test Cases for \bcode{get\_lc\_data}:}
            \begin{itemize}
                \item \textbf{Valid Standard File:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide a valid path to a standard
                    TESS light curve \bcode{.lc} file with complete \bcode{TIME},
                    \bcode{PDCSAP\_FLUX}, and \bcode{PDCSAP\_FLUX\_ERR} columns.
                    \item \textbf{Expected Result:} The function should successfully
                    load the file, return an \bcode{astropy.timeseries.TimeSeries}
                    object, and correctly convert \bcode{BTJD} to \bcode{JD} and
                    create \bcode{DATE} strings.
                \end{itemize}
                \item \textbf{File Not Found:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide a \bcode{filename} that does
                    not exist in the \bcode{lc\_data\_folder}.
                    \item \textbf{Expected Result:} The script should catch the
                    \bcode{FileNotFoundError} and exit gracefully with an
                    informative message.
                \end{itemize}
                \item \textbf{Invalid File Content:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide a file that exists but is
                    not a valid light curve format (e.g., a corrupted \bcode{.lc}
                    file, or a text file with incorrect delimiters/headers), or
                    a file with non-numeric flux/time data.
                    \item \textbf{Expected Result:} The script should catch
                    parsing errors (e.g., from type conversion) and exit
                    gracefully with an informative error message.
                \end{itemize}
            \end{itemize}
            \textbf{Test Cases for \bcode{identify\_outliers}:} 
            \begin{itemize}
                \item \textbf{Standard Data with Outliers:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide typical \bcode{flux} and 
                    \bcode{dates} arrays that include a few clear outlier points.
                    \item \textbf{Expected Result:} The function should correctly
                    identify and mark only the actual outlier points in the
                    returned boolean mask, without flagging valid data.
                \end{itemize}
                \item \textbf{No Outliers / Uniform Data:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide \bcode{flux} and \bcode{dates}
                    arrays where all flux values are very consistent (e.g., from
                    a constant star) or where there are no points outside the
                    \bcode{threshold}.
                    \item \textbf{Expected Result:} The function should return a
                    mask where all values are \bcode{False} (no outliers identified).
                \end{itemize}
            \end{itemize}
            \textbf{Test Cases for \bcode{plot\_raw\_lc}:}  
            \begin{itemize}
                \item \textbf{Successful Plot Generation:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide valid \bcode{filename} and
                    \bcode{lc\_data} with some identified outliers.
                    \item \textbf{Expected Result:} A PDF file should be
                    successfully created in the \bcode{plots/} directory,
                    displaying the raw light curve, correctly highlighting the
                    outliers, and including all specified labels and legends.
                \end{itemize}
                \item \textbf{Light Curve with Gaps/Missing Data:}
                \begin{itemize}
                    \item \textbf{Scenario:} Provide \bcode{lc\_data} that contains
                    \bcode{NaN} values or significant gaps (which would be handled
                    by \bcode{dropna()} in \bcode{get\_lc\_data}).
                    \item \textbf{Expected Result:} The plot should accurately
                    represent the available data, showing the gaps where data is
                    missing, and not generating errors due to the missing points.
                \end{itemize}
            \end{itemize} \pagebreak
            \textbf{Test Cases for \bcode{fold\_lc}:}
            \begin{itemize}
                \item \textbf{Known Periodic Signal:}
                \begin{itemize}
                    \item \textbf{Scenario:} Process \bcode{lc\_data} from a star
                    with a well-known, strong periodic signal (e.g., an eclipsing
                    binary or pulsating star).
                    \item \textbf{Expected Result:} The Lomb-Scargle periodogram
                    should clearly identify the correct period as the highest
                    power peak, and the phase-folded light curve should show a
                    coherent, well-defined folded shape.
                \end{itemize}
                \item \textbf{No Apparent Periodicity:}
                \begin{itemize}
                    \item \textbf{Scenario:} Process \bcode{lc\_data} from a
                    non-variable or very low-variability star.
                    \item \textbf{Expected Result:} The periodogram should show
                    low power peaks, indicating no strong periodicity, and the
                    phase-folded light curve should appear flat or noisy without
                    a clear folded shape.
                \end{itemize}
                \item \textbf{Different Period Ranges:}
                \begin{itemize}
                    \item \textbf{Scenario:} Vary \bcode{min\_period} and
                    \bcode{max\_period} to constrain the period search (e.g., a
                    very narrow range around an expected period, or a very wide
                    range).
                    \item \textbf{Expected Result:} The periodogram should adapt
                    its search space, and the best period found should be
                    consistent within the search range.
                \end{itemize}
            \end{itemize}
        \end{solution}
    \end{enumerate}
\end{document}